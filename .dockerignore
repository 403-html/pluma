# ─── Dependencies & generated artefacts ──────────────────────────────────────
node_modules/
**/node_modules/
**/dist/

# ─── Version control ──────────────────────────────────────────────────────────
.git/
.gitignore

# ─── Next.js / Storybook build output ─────────────────────────────────────────
**/.next/
**/coverage/

# ─── Logs ─────────────────────────────────────────────────────────────────────
**/*.log

# ─── Environment files (never bake secrets into the image) ────────────────────
.env
.env.*
!.env.example

# ─── Apps not needed for the API image ────────────────────────────────────────
# Exclude source directories but re-include package.json so pnpm workspace
# resolution works correctly during the deps install stage.
apps/app/
!apps/app/package.json
apps/storybook/
!apps/storybook/package.json
# ============================================================
# .dockerignore — monorepo root
#
# Build context for all Dockerfiles is the monorepo root.
# This file keeps the context lean and prevents secrets /
# stale artefacts from leaking into images.
# ============================================================

# ── Dependencies (Docker stages restore these from pnpm install) ──
**/node_modules

# ── Build outputs (always rebuilt inside Docker stages) ──
**/.next
**/dist
**/.turbo

# ── Version control ──
.git
.gitignore
.gitmessage

# ── CI / GitHub artefacts ──
.github

# ── Test coverage ──
**/coverage

# ── Environment files (never bake secrets into images) ──
**/.env
**/.env.local
**/.env.*.local
# allow example files — they carry no real secrets
!**/.env.example

# ── Logs ──
**/*.log
**/npm-debug.log*
**/pnpm-debug.log*

# ── Docker files themselves ──
Dockerfile
.dockerignore
docker-compose.yml
docker-compose*.yml
packages/db/docker-compose.yml

# ── Editor / OS noise ──
.DS_Store
Thumbs.db
**/*.swp
**/*.swo

# ── Storybook build output ──
**/storybook-static
